{% extends 'base.html' %}
{% block content %}
  <div id="container" class="container"> 
   <div id="content" class="content" style="margin-top: 40px;"> 
    <div class="relative" style="padding: 5px;">
      <div id="hobbyMap" style="height:700px;border:1px solid #ccc; position: relative;">
          <h2 class="hobby-title">兴趣爱好</h2>
          <div class="center-avatar">
              <img src="/static/images/head.png" alt="">
          </div>
      </div>
    </div>
   </div> 
  </div>
<style>
#hobbyMap .center-avatar {
    width: 230px;
    height: 230px;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -115px;
    margin-left: -115px;
}
#hobbyMap {
    font-size: 16px;
    color: #fff;
}
#hobbyMap .hobby-title {
    color: #444;
    font-size: 16px;
}
#hobbyMap .center-avatar img {
    width: 100%;
}
#rank1 {
    position: absolute;
    width: 160px;
    height: 160px;
    line-height: 160px;
    text-align: center;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: -295px;
    margin-left: -155px;
    background: rgba(121,204,296,1);
}
#rank2 {
    position: absolute;
    width: 135px;
    height: 135px;
    line-height: 130px;
    text-align: center;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: -115px;
    margin-left: -280px;
    background: rgba(121,204,296,1);
}
#rank3 {
    position: absolute;
    width: 135px;
    height: 135px;
    line-height: 135px;
    text-align: center;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: 40px;
    margin-left: -257px;
    background: rgba(121,204,296,1);
}
#rank4 {
    position: absolute;
    width: 130px;
    height: 130px;
    line-height: 130px;
    text-align: center;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: 142px;
    margin-left: -132px;
    background: rgba(121,204,296,1);
}
#rank5 {
    position: absolute;
    width: 105px;
    height: 105px;
    line-height: 105px;
    text-align: center;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: 138px;
    margin-left: 20px;
    background: rgba(121,204,296,1);
}
#rank6 {
    position: absolute;
    width: 95px;
    height: 95px;
    line-height: 95px;
    text-align: center;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: 57px;
    margin-left: 116px;
    background: rgba(121,204,296,1);
}
#rank7 {
    position: absolute;
    width: 80px;
    height: 80px;
    line-height: 80px;
    text-align: center;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: -50px;
    margin-left: 149px;
    background: rgba(121,204,296,1);
}
#rank8 {
    position: absolute;
    width: 70px;
    height: 70px;
    line-height: 70px;
    text-align: center;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: -150px;
    margin-left: 130px;
    background: rgba(121,204,296,1);
}
#rank9 {
    position: absolute;
    width: 55px;
    height: 55px;
    line-height: 55px;
    text-align: center;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: -220px;
    margin-left: 80px;
    background: rgba(121,204,296,1);
}
</style>
<script>
var hobbyData = JSON.parse({{ option | tojson | safe }});
(function() {
function renderHobbyCharts(data) {
    var tpl = [];
    for(var i = 0, len = data.length; i < len; i++) {
        tpl.push('<div class="rank" id="rank' + (i+1) + '">' + data[i].name + '</div>');
    }
    return tpl.join('');
}
$("#hobbyMap").append(renderHobbyCharts(hobbyData.data));
}).call(this);

$(function(){
    $(document).tooltip({
      track: true
    });
});

$(".rank").each(function(i){
    $(this).mouseover(function(){
        $(this).attr("title", hobbyData.data[i].value);
    });
});

</script>
{% endblock %}